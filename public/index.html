<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>H·ªá Th·ªëng Ki·ªÉm Tra</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <header class="topbar">
    <div class="brand">H·ªá Th·ªëng Ki·ªÉm Tra</div>
    <button id="themeToggle" class="theme-toggle" aria-label="Chuy·ªÉn theme">
      <svg id="themeIcon" viewBox="0 0 24 24" width="22" height="22"></svg>
      <span id="themeText">Light</span>
    </button>
  </header>

  <main id="app">
    <section id="loginPage" class="page active">
      <div class="login-container">
        <!-- C·ªôt tr√°i: form -->
        <div class="login-left">
          <div class="login-box">
            <div class="logo">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
              </svg>
            </div>
            <h1>H·ªá Th·ªëng Ki·ªÉm Tra</h1>
            <p class="subtitle">Nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÉ ti·∫øp t·ª•c</p>

            <form id="loginForm">
              <div class="input-group">
                <input
                  type="password"
                  id="passwordInput"
                  placeholder="M·∫≠t kh·∫©u"
                  autocomplete="off"
                  required
                />
                <button type="button" class="toggle-password" id="togglePassword" aria-label="Hi·ªán/·∫©n m·∫≠t kh·∫©u">
                  <svg id="eyeIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                    <!-- M·∫Øt (hi·ªán) -->
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                    <circle cx="12" cy="12" r="3"/>
                  </svg>
                </button>
              </div>
              <button type="submit" class="btn btn-primary" id="loginBtn">ƒêƒÉng nh·∫≠p</button>
              <div id="loginError" class="message error"></div>
            </form>

            <div class="info-text">
              <p>üí° <strong>Gi√°o vi√™n:</strong> T·∫•t nhi√™n bi·∫øt m·∫≠t kh·∫©u r·ªìi</p>
              <p>üìö <strong>H·ªçc sinh:</strong> Ki·∫øm m·∫≠t kh·∫©u r·ªìi v√†o l√†m l·∫π l√™n</p>
            </div>
          </div>
        </div>

        <!-- C·ªôt ph·∫£i: c√¥ng c·ª• -->
        <div class="login-right">
          <h2>üöÄ C√¥ng C·ª• H·ªó Tr·ª£ H·ªçc T·∫≠p</h2>
          <p class="subtitle">Kh√°m ph√° nhanh c√°c c√¥ng c·ª• c·∫ßn thi·∫øt</p>

          <div class="features-grid">
            <button class="feature-card" onclick="window.open('https://www.geogebra.org/calculator', '_blank')">
              <div class="feature-icon">üìê</div>
              <h3>GeoGebra</h3>
            </button>
            <button class="feature-card" onclick="window.open('https://www.wolframalpha.com/', '_blank')">
              <div class="feature-icon">üßÆ</div>
              <h3>Wolfram Alpha</h3>
            </button>
            <button class="feature-card" onclick="window.open('https://www.desmos.com/calculator', '_blank')">
              <div class="feature-icon">üìä</div>
              <h3>Desmos</h3>
            </button>
            <button class="feature-card" onclick="window.open('https://sciencenotes.org/periodic-table/', '_blank')">
              <div class="feature-icon">‚öóÔ∏è</div>
              <h3>B·∫£ng tu·∫ßn ho√†n</h3>
            </button>
            <button class="feature-card" onclick="window.open('https://phet.colorado.edu/vi/', '_blank')">
              <div class="feature-icon">üî¨</div>
              <h3>PhET</h3>
            </button>
            <button class="feature-card" onclick="window.open('https://www.google.com/search?q=timer', '_blank')">
              <div class="feature-icon">‚è±Ô∏è</div>
              <h3>Timer</h3>
            </button>
          </div>

          <div class="quick-links">
            <h3>üîó Li√™n k·∫øt nhanh</h3>
            <div class="links-list">
              <a href="https://drive.google.com" target="_blank" class="quick-link"><span>üíæ</span> Drive</a>
              <a href="https://docs.google.com" target="_blank" class="quick-link"><span>üìù</span> Docs</a>
              <a href="https://www.youtube.com/results?search_query=h·ªçc+to√°n" target="_blank" class="quick-link"><span>üì∫</span> YouTube</a>
              <a href="https://translate.google.com" target="_blank" class="quick-link"><span>üåê</span> D·ªãch</a>
              <a href="https://www.canva.com" target="_blank" class="quick-link"><span>üé®</span> Canva</a>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- Trang gi√°o vi√™n -->
    <section id="teacherPage" class="page">
      <div class="page-header">
        <h2>Gi√°o vi√™n</h2>
        <button id="logoutTeacher" class="btn btn-secondary">ƒêƒÉng xu·∫•t</button>
      </div>

      <form id="uploadForm" class="card">
        <h3>Upload ƒë·ªÅ thi</h3>
        <div class="grid-2">
          <div>
            <label>File ƒë·ªÅ thi</label>
            <input type="file" id="examFile" accept=".doc,.docx,.pdf,.txt" required>
          </div>
          <div>
            <label>Th·ªùi gian (ph√∫t)</label>
            <input type="number" id="timeMinutes" min="1" value="45">
          </div>
          <div>
            <label>M·∫≠t kh·∫©u ƒë·ªÅ (tu·ª≥ ch·ªçn)</label>
            <input type="text" id="examPassword" placeholder="ƒê·ªÉ tr·ªëng n·∫øu kh√¥ng d√πng">
          </div>
          <div>
            <label>S·ªë phi√™n b·∫£n</label>
            <input type="number" id="variantCount" min="1" value="1">
          </div>
        </div>

        <div class="grid-3">
          <div>
            <label>Ph·∫ßn 1</label>
            <select id="p1Mode">
              <option value="none">Kh√¥ng tr·ªôn</option>
              <option value="shuffle">Tr·ªôn c√¢u</option>
            </select>
          </div>
          <div>
            <label>Ph·∫ßn 2</label>
            <select id="p2Mode">
              <option value="none">Kh√¥ng tr·ªôn</option>
              <option value="shuffle">Tr·ªôn c√¢u</option>
            </select>
          </div>
          <div>
            <label>Ph·∫ßn 3</label>
            <select id="p3Mode">
              <option value="none">Kh√¥ng tr·ªôn</option>
              <option value="shuffle">Tr·ªôn c√¢u</option>
            </select>
          </div>
        </div>

        <label class="checkbox">
          <input type="checkbox" id="useAI"> D√πng AI h·ªó tr·ª£ ph√¢n t√≠ch ƒë·ªÅ
        </label>

        <button type="submit" class="btn btn-primary">Upload</button>
        <div id="uploadMessage" class="message"></div>
      </form>

      <div class="card">
        <h3>Danh s√°ch ƒë·ªÅ thi</h3>
        <div id="examList"></div>
      </div>

      <div class="card">
        <h3>B√†i n·ªôp g·∫ßn ƒë√¢y</h3>
        <div id="submissionsList"></div>
      </div>
    </section>

    <!-- Trang th√¥ng tin h·ªçc sinh -->
    <section id="studentInfoPage" class="page">
      <div class="page-header">
        <h2>Th√¥ng tin h·ªçc sinh</h2>
        <button id="logoutStudent" class="btn btn-secondary">ƒêƒÉng xu·∫•t</button>
      </div>

      <form id="studentInfoForm" class="card">
        <div class="grid-2">
          <div>
            <label>H·ªç v√† t√™n</label>
            <input type="text" id="studentName" placeholder="Nguy·ªÖn VƒÉn A" required>
          </div>
          <div>
            <label>L·ªõp</label>
            <input type="text" id="studentClass" readonly>
          </div>
          <div>
            <label>Ng√†y sinh</label>
            <input type="text" id="studentDOB" placeholder="dd/mm/yyyy" required>
          </div>
          <div id="examPasswordGroup" style="display:none;">
            <label>M·∫≠t kh·∫©u ƒë·ªÅ thi</label>
            <input type="password" id="studentExamPassword" placeholder="Nh·∫≠p m·∫≠t kh·∫©u ƒë·ªÅ thi">
          </div>
        </div>
        <div id="studentInfoError" class="message error"></div>
        <button type="submit" class="btn btn-primary">V√†o l√†m b√†i</button>
      </form>
    </section>

    <!-- Trang l√†m b√†i -->
    <section id="examPage" class="page">
      <div class="page-header">
        <h2>L√†m b√†i</h2>
        <div class="exam-meta">
          <span id="studentInfo"></span>
          <span class="timer">‚è±Ô∏è <span id="timer">00:00</span></span>
        </div>
        <button id="backToHome" class="btn btn-secondary">V·ªÅ trang ch·ªß</button>
      </div>

      <div id="warningMessage" class="message warning" style="display:none;"></div>
      <div id="questionsContainer" class="card"></div>

      <div class="actions">
        <button id="submitBtn" class="btn btn-primary">N·ªôp b√†i</button>
      </div>
    </section>

    <!-- Trang k·∫øt qu·∫£ -->
    <section id="resultPage" class="page">
      <div class="result-container card">
        <h2>K·∫øt qu·∫£</h2>
        <p id="resultMessage"></p>
        <p>ƒêi·ªÉm: <strong id="scoreDisplay">Ch·ªù ch·∫•m ƒëi·ªÉm</strong></p>
        <button id="logoutStudent2" class="btn btn-secondary" onclick="location.reload()">Tho√°t</button>
      </div>
    </section>

    <!-- Modal chi ti·∫øt ƒë·ªÅ -->
    <div id="examDetailModal" class="modal">
      <div class="modal-content">
        <button id="closeModal" class="modal-close">‚úñ</button>
        <div id="examDetailContent" class="modal-body"></div>
        <div class="modal-actions">
          <button id="saveAnswers" class="btn btn-primary">L∆∞u ƒë√°p √°n ƒë√∫ng</button>
          <button id="sendReport" class="btn btn-secondary">G·ª≠i b√°o c√°o l·ªõp</button>
          <button id="deleteExam" class="btn btn-danger">X√≥a ƒë·ªÅ</button>
        </div>
      </div>
    </div>
  </main>

  <footer class="footer">
    <div class="footer-left">NMT ‚Äì D√πng AI code ra web n√†y ƒë√≥</div>
    <button class="btn btn-outline" onclick="alert('N·∫øu b·∫°n mu·ªën gi√∫p, h√£y li√™n h·ªá tr·ª±c ti·∫øp nh√©!')">Wanna Help</button>
  </footer>

  <script src="/main.js"></script>
</body>
</html>
