<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Há»‡ Thá»‘ng Kiá»ƒm Tra</title>
  <link rel="stylesheet" href="style.css"/>
  <!-- MathJax (náº¿u báº¡n Ä‘Ã£ cÃ³ renderMath wrapper) -->
  <script>
    window.renderMath = () => {
      if (window.MathJax && window.MathJax.typesetPromise) {
        window.MathJax.typesetPromise();
      }
    };
  </script>
</head>
<body>
  <!-- Toggle theme -->
  <button class="theme-toggle" id="themeToggle">
    <span class="theme-toggle-icon">ğŸŒ—</span>
    <span class="theme-toggle-text">Äá»•i giao diá»‡n</span>
  </button>

  <!-- LOGIN PAGE -->
  <section id="loginPage" class="active">
    <div class="login-left">
      <div class="login-box">
        <div class="logo">
          <!-- icon -->
          <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
            <circle cx="12" cy="12" r="9"></circle>
            <path d="M8 12l2 2 4-4"></path>
          </svg>
        </div>
        <h1>Há»‡ Thá»‘ng Kiá»ƒm Tra</h1>
        <p class="subtitle">Nháº­p máº­t kháº©u Ä‘á»ƒ tiáº¿p tá»¥c</p>

        <form id="loginForm">
          <div class="input-group">
            <input id="passwordInput" type="password" placeholder="Máº­t kháº©u..." autocomplete="current-password"/>
            <button type="button" id="togglePassword" class="toggle-password" aria-label="áº¨n/Hiá»‡n máº­t kháº©u">
              <svg id="eyeIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                <circle cx="12" cy="12" r="3"/>
              </svg>
            </button>
          </div>
          <button id="loginBtn" class="btn btn-primary" type="submit">ÄÄƒng nháº­p</button>
          <div id="loginError" class="error-message"></div>
        </form>

        <div class="info-text">
          <p>ğŸ‘¨â€ğŸ« <strong>GiÃ¡o viÃªn:</strong> Táº¥t nhiÃªn biáº¿t máº­t kháº©u rá»“i</p>
          <p>ğŸ‘©â€ğŸ“ <strong>Há»c sinh:</strong> Kiáº¿m máº­t kháº©u rá»“i vÃ o lÃ m láº¹ lÃªn</p>
        </div>
      </div>
    </div>

    <div class="login-right">
      <h2>ChÃ o má»«ng Ä‘áº¿n há»‡ thá»‘ng kiá»ƒm tra</h2>
      <p>Giao diá»‡n má»›i mÆ°á»£t hÆ¡n, há»— trá»£ dark mode, chá»‰nh sá»­a Ä‘á» trá»±c tiáº¿p, upload áº£nh cho cÃ¢u há»i/Ä‘Ã¡p Ã¡n, vÃ  hiá»ƒn thá»‹ cÃ´ng thá»©c báº±ng MathJax.</p>

      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">ğŸ“</div>
          <h3>Chá»‰nh sá»­a Ä‘á» trá»±c tiáº¿p</h3>
          <p>Sá»­a ná»™i dung cÃ¢u há»i, Ä‘Ã¡p Ã¡n, cÃ¢u há»i con ngay trong modal chi tiáº¿t.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ“·</div>
          <h3>áº¢nh cÃ¢u há»i/Ä‘Ã¡p Ã¡n</h3>
          <p>Upload/xÃ³a áº£nh cho tá»«ng cÃ¢u há»i vÃ  tá»«ng Ä‘Ã¡p Ã¡n.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">â±ï¸</div>
          <h3>Äáº¿m giá»</h3>
          <p>Tá»± Ä‘á»™ng ná»™p khi háº¿t giá» hoáº·c vi pháº¡m.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">âˆ‘</div>
          <h3>MathJax</h3>
          <p>Hiá»ƒn thá»‹ cÃ´ng thá»©c toÃ¡n vá»›i cÃº phÃ¡p $...$.</p>
        </div>
      </div>

      <div class="quick-links">
        <h3>LiÃªn káº¿t nhanh</h3>
        <div class="links-list">
          <a class="quick-link" href="#">ğŸ“š HÆ°á»›ng dáº«n</a>
          <a class="quick-link" href="#">ğŸ› ï¸ Cáº¥u hÃ¬nh</a>
          <a class="quick-link" href="#">ğŸ’¬ GÃ³p Ã½</a>
        </div>
      </div>
    </div>
  </section>

  <!-- TEACHER PAGE -->
  <section id="teacherPage" style="display:none;">
    <div class="container">
      <div class="header">
        <h2>Báº£ng Ä‘iá»u khiá»ƒn giÃ¡o viÃªn</h2>
        <button id="logoutTeacher" class="btn">ÄÄƒng xuáº¥t</button>
      </div>

      <div class="dashboard">
        <div class="card">
          <h3>Upload Ä‘á» thi</h3>
          <form id="uploadForm">
            <div class="form-group">
              <label>File Ä‘á» thi</label>
              <input type="file" id="examFile" accept=".docx,.pdf,.txt,.json"/>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>Thá»i gian (phÃºt)</label>
                <input type="number" id="timeMinutes" min="10" value="45"/>
              </div>
              <div class="form-group">
                <label>Máº­t kháº©u Ä‘á» (tuá»³ chá»n)</label>
                <input type="text" id="examPassword" placeholder="Äá»ƒ trá»‘ng náº¿u khÃ´ng dÃ¹ng"/>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>Sá»‘ phiÃªn báº£n</label>
                <input type="number" id="variantCount" min="1" value="1"/>
              </div>
              <div class="form-group">
                <label>Cháº¿ Ä‘á»™ P1/P2/P3</label>
                <div class="form-row">
                  <select id="p1Mode">
                    <option value="none">KhÃ´ng</option>
                    <option value="shuffle">Trá»™n</option>
                  </select>
                  <select id="p2Mode">
                    <option value="none">KhÃ´ng</option>
                    <option value="shuffle">Trá»™n</option>
                  </select>
                  <select id="p3Mode">
                    <option value="none">KhÃ´ng</option>
                    <option value="shuffle">Trá»™n</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label><input type="checkbox" id="useAI"/> DÃ¹ng AI há»— trá»£ phÃ¢n tÃ­ch</label>
            </div>
            <button class="btn btn-primary" type="submit">Upload</button>
            <div id="uploadMessage" class="message" style="display:none;"></div>
          </form>
        </div>

        <div class="card">
          <h3>Danh sÃ¡ch Ä‘á» thi</h3>
          <div id="examList" class="exams-list"></div>
        </div>

        <div class="card">
          <h3>BÃ i ná»™p gáº§n Ä‘Ã¢y</h3>
          <div id="submissionsList" class="submissions-list"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- STUDENT INFO PAGE -->
  <section id="studentInfoPage" style="display:none;">
    <div class="student-form-container">
      <div class="card">
        <h3>ThÃ´ng tin há»c sinh</h3>
        <form id="studentInfoForm">
          <div class="form-group">
            <label>Lá»›p</label>
            <input type="text" id="studentClass" readonly/>
          </div>
          <div class="form-group">
            <label>Há» vÃ  tÃªn</label>
            <input type="text" id="studentName" placeholder="VD: Nguyá»…n VÄƒn A"/>
          </div>
          <div class="form-group">
            <label>NgÃ y sinh (dd/mm/yyyy)</label>
            <input type="text" id="studentDOB" placeholder="VD: 01/01/2008"/>
            <small>Nháº­p Ä‘Ãºng Ä‘á»‹nh dáº¡ng dd/mm/yyyy</small>
          </div>
          <div id="examPasswordGroup" class="form-group" style="display:none;">
            <label>Máº­t kháº©u Ä‘á» thi</label>
            <input type="password" id="studentExamPassword" placeholder="Nháº­p máº­t kháº©u Ä‘á»"/>
          </div>
          <button class="btn btn-primary" type="submit">VÃ o lÃ m bÃ i</button>
          <div id="studentInfoError" class="error-message"></div>
        </form>
      </div>
    </div>
  </section>

  <!-- EXAM PAGE -->
  <section id="examPage" style="display:none;">
    <div class="container">
      <div class="exam-header">
        <div class="exam-info">
          <h2 id="examTitle">Äá» thi</h2>
          <p id="studentInfo">Há»c sinh - Lá»›p</p>
        </div>
        <div class="timer-container">
          <div id="timer" class="timer">00:00</div>
          <div id="warningMessage" class="warning-message"></div>
        </div>
      </div>

      <div class="exam-content">
        <div id="questionsContainer" class="questions-container"></div>
        <button id="submitBtn" class="btn btn-primary btn-submit">Ná»™p bÃ i</button>
      </div>
    </div>
  </section>

  <!-- RESULT PAGE -->
  <section id="resultPage" style="display:none;">
    <div class="container">
      <div class="result-container">
        <div class="result-icon">ğŸ‰</div>
        <h2 id="resultMessage">Ná»™p bÃ i thÃ nh cÃ´ng!</h2>
        <div id="scoreDisplay" class="score-display">Chá» cháº¥m Ä‘iá»ƒm</div>
        <button id="logoutStudent" class="btn">Vá» trang chá»§</button>
      </div>
    </div>
  </section>

  <!-- MODAL CHI TIáº¾T Äá»€ -->
  <div id="examDetailModal" class="modal">
    <div class="modal-content">
      <button id="closeModal" class="close">âœ•</button>
      <h2>Chi tiáº¿t Ä‘á» thi</h2>
      <div id="examDetailContent"></div>
      <div class="modal-actions">
        <button id="saveAnswers" class="btn btn-primary">LÆ°u Ä‘Ã¡p Ã¡n Ä‘Ãºng</button>
        <button id="sendReport" class="btn">Gá»­i bÃ¡o cÃ¡o lá»›p</button>
        <button id="deleteExam" class="btn">XÃ³a Ä‘á»</button>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <div class="footer">
    <p>NMT â€“ DÃ¹ng AI code ra web nÃ y Ä‘Ã³</p>
    <button id="backToHome" class="btn">Wanna Help</button>
  </div>

  <script src="main.js"></script>
</body>
</html>
