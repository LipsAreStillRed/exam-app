<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Há»‡ Thá»‘ng Kiá»ƒm Tra Trá»±c Tuyáº¿n</title>
  
  <!-- Link Ä‘áº¿n file CSS cá»§a báº¡n -->
  <link rel="stylesheet" href="style.css">
  
  <!-- MathJax -->
  <script>
    MathJax = {
      tex: { inlineMath: [['$', '$']], displayMath: [['$$', '$$']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</head>
<body>

  <!-- NÃºt Ä‘á»•i giao diá»‡n SÃ¡ng/Tá»‘i -->
  <button class="theme-toggle" id="themeToggle">
    <svg class="theme-toggle-icon" id="themeIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="5"/>
      <line x1="12" y1="1" x2="12" y2="3"/>
      <line x1="12" y1="21" x2="12" y2="23"/>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
      <line x1="1" y1="12" x2="3" y2="12"/>
      <line x1="21" y1="12" x2="23" y2="12"/>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
    </svg>
    <span class="theme-toggle-text" id="themeText">Light</span>
  </button>

  <!-- ========================================== -->
  <!-- PHáº¦N 1: LOGIN PAGE (GIAO DIá»†N Má»šI 2 Cá»˜T) -->
  <!-- ========================================== -->
  <section id="loginPage">
    <!-- Cá»™t TrÃ¡i: Form ÄÄƒng Nháº­p -->
    <div class="login-left">
      <div class="login-box">
        <div class="logo">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 11 12 14 22 4"></polyline>
            <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
          </svg>
        </div>
        <h1>Há»‡ Thá»‘ng Kiá»ƒm Tra</h1>
        <p class="subtitle">Nháº­p máº­t kháº©u Ä‘á»ƒ tiáº¿p tá»¥c</p>

        <form id="loginForm">
          <div class="input-group">
            <input id="passwordInput" type="password" placeholder="Máº­t kháº©u..." autocomplete="current-password" required/>
            <button type="button" id="togglePassword" class="toggle-password">
              <svg id="eyeIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                <circle cx="12" cy="12" r="3"/>
              </svg>
            </button>
          </div>
          <button id="loginBtn" class="btn btn-primary" type="submit">ÄÄƒng nháº­p</button>
          <div id="loginError" class="error-message"></div>
        </form>

        <div class="info-text">
          <p>ğŸ‘¨â€ğŸ« <strong>GiÃ¡o viÃªn:</strong> Táº¥t nhiÃªn biáº¿t máº­t kháº©u rá»“i</p>
          <p>ğŸ“ <strong>Há»c sinh:</strong> Kiáº¿m máº­t kháº©u rá»“i vÃ o lÃ m láº¹ lÃªn</p>
        </div>
      </div>
    </div>

    <!-- Cá»™t Pháº£i: Video & CÃ´ng cá»¥ -->
    <div class="login-right">
      <h2>GÃ³c Há»c Táº­p & Giáº£i TrÃ­</h2>
      
      <!-- VIDEO CONTAINER (Thay link youtube á»Ÿ Ä‘Ã¢y) -->
      <div class="video-container">
        <iframe 
          width="100%" height="100%" 
          src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
          title="YouTube video player" 
          frameborder="0" 
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
          allowfullscreen>
        </iframe>
      </div>

      <h3>CÃ´ng Cá»¥ Há»— Trá»£</h3>
      <div class="tools-grid">
        <a href="https://google.com" target="_blank" class="tool-btn">
          <span class="icon">ğŸ”</span> Google
        </a>
        <a href="https://youtube.com" target="_blank" class="tool-btn">
          <span class="icon">â–¶ï¸</span> YouTube
        </a>
        <a href="https://chatgpt.com" target="_blank" class="tool-btn">
          <span class="icon">ğŸ¤–</span> ChatGPT
        </a>
        <a href="https://zoom.us" target="_blank" class="tool-btn">
          <span class="icon">ğŸ“¹</span> Zoom
        </a>
        <a href="https://teams.microsoft.com" target="_blank" class="tool-btn">
          <span class="icon">ğŸ‘¥</span> Teams
        </a>
        <a href="https://www.calculator.net/" target="_blank" class="tool-btn">
          <span class="icon">ğŸ§®</span> MÃ¡y tÃ­nh
        </a>
      </div>

      <!-- Footer -->
      <footer class="footer">
        <p>NMT â€“ DÃ¹ng AI code ra web nÃ y Ä‘Ã³</p>
        <button id="backToHomeBtn" onclick="location.reload()">Wanna Help</button>
      </footer>
    </div>
  </section>

  <!-- ========================================== -->
  <!-- PHáº¦N 2: CÃC TRANG CHá»¨C NÄ‚NG (GIá»® NGUYÃŠN) -->
  <!-- ========================================== -->

  <!-- TRANG GIÃO VIÃŠN -->
  <div id="teacherPage" class="container functional-page" style="display: none;">
    <div class="header">
      <h2>Trang GiÃ¡o ViÃªn</h2>
      <button id="logoutTeacher" class="btn btn-danger">ÄÄƒng xuáº¥t</button>
    </div>
    
    <div class="dashboard-grid">
      <!-- Cá»™t trÃ¡i: Upload & Quáº£n lÃ½ Ä‘á» -->
      <div class="card">
        <h3>ğŸ“¤ Upload Äá» Thi</h3>
        <form id="uploadForm">
          <div class="form-group">
            <label>Chá»n file Ä‘á» (Word/PDF):</label>
            <input type="file" id="examFile" accept=".docx, .pdf" required>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label>Thá»i gian (phÃºt):</label>
              <input type="number" id="timeMinutes" value="45" min="1">
            </div>
            <div class="form-group">
              <label>Sá»‘ mÃ£ Ä‘á» trá»™n:</label>
              <input type="number" id="variantCount" value="1" min="1" max="10">
            </div>
          </div>
          <div class="form-group">
            <label>Máº­t kháº©u Ä‘á» (tÃ¹y chá»n):</label>
            <input type="text" id="examPassword" placeholder="Äá»ƒ trá»‘ng náº¿u khÃ´ng cáº§n">
          </div>
          <div class="form-group" style="display:flex; gap:10px; align-items:center;">
             <input type="checkbox" id="useAI" style="width:auto;">
             <label for="useAI" style="margin:0;">DÃ¹ng AI phÃ¢n tÃ­ch Ä‘á»</label>
          </div>
          <button type="submit" class="btn btn-primary">Táº£i lÃªn & Trá»™n Ä‘á»</button>
          <div id="uploadMessage" class="message"></div>
        </form>

        <h3 style="margin-top:30px;">ğŸ“‹ Danh SÃ¡ch Äá» Thi</h3>
        <div id="examList" class="exams-list"></div>
      </div>

      <!-- Cá»™t pháº£i: Káº¿t quáº£ bÃ i lÃ m -->
      <div class="card">
        <h3>ğŸ“Š BÃ i Ná»™p Cá»§a Há»c Sinh</h3>
        <button class="btn btn-secondary" onclick="loadSubmissions()" style="margin-bottom:15px; width:100%;">LÃ m má»›i danh sÃ¡ch</button>
        <div id="submissionsList" class="submissions-list"></div>
      </div>
    </div>
  </div>

  <!-- TRANG NHáº¬P THÃ”NG TIN Há»ŒC SINH -->
  <div id="studentInfoPage" class="container functional-page" style="display: none;">
    <div class="student-form-container">
      <div class="card login-box" style="background: white; color: #333; max-width: 500px;">
        <h2 style="color:var(--primary); text-align:center; margin-bottom:20px;">ThÃ´ng Tin ThÃ­ Sinh</h2>
        <form id="studentInfoForm">
          <div class="form-group">
            <label>Há» vÃ  TÃªn:</label>
            <input type="text" id="studentName" required placeholder="Nguyá»…n VÄƒn A">
          </div>
          <div class="form-group">
            <label>Lá»›p (Tá»± Ä‘á»™ng):</label>
            <input type="text" id="studentClass" readonly>
          </div>
          <div class="form-group">
            <label>NgÃ y sinh (dd/mm/yyyy):</label>
            <input type="text" id="studentDOB" required placeholder="01/01/2005">
          </div>
          
          <div class="form-group" id="examPasswordGroup" style="display:none;">
            <label>Máº­t kháº©u Ä‘á» thi:</label>
            <input type="password" id="studentExamPassword" placeholder="Nháº­p máº­t kháº©u do GV cung cáº¥p">
          </div>

          <button type="submit" class="btn btn-primary" style="width:100%;">VÃ o Thi</button>
          <div id="studentInfoError" class="error-message"></div>
        </form>
      </div>
    </div>
  </div>

  <!-- TRANG LÃ€M BÃ€I THI -->
  <div id="examPage" class="container functional-page" style="display: none;">
    <div class="exam-header">
      <div class="exam-info">
        <h2 id="examTitle">Äá» thi</h2>
        <p>ThÃ­ sinh: <span id="studentInfo" style="font-weight:bold;"></span></p>
      </div>
      <div class="timer-container">
        <div class="timer" id="timer">00:00</div>
        <div id="warningMessage" class="warning-message"></div>
      </div>
      <button id="logoutStudent" class="btn btn-danger" style="font-size:13px;">ThoÃ¡t</button>
    </div>

    <div class="exam-content">
      <div id="questionsContainer" class="questions-container"></div>
      <button id="submitBtn" class="btn btn-primary btn-submit">Ná»˜P BÃ€I</button>
    </div>
  </div>

  <!-- TRANG Káº¾T QUáº¢ -->
  <div id="resultPage" class="container functional-page" style="display: none;">
    <div class="result-container">
      <div class="result-icon">ğŸ†</div>
      <h2 id="resultMessage">Ná»™p bÃ i thÃ nh cÃ´ng!</h2>
      <p>Äiá»ƒm sá»‘ cá»§a báº¡n lÃ :</p>
      <div id="scoreDisplay" class="score-display">--</div>
      <button onclick="location.reload()" class="btn btn-primary">Vá» trang chá»§</button>
    </div>
  </div>

  <!-- MODAL CHI TIáº¾T Äá»€ THI -->
  <div id="examDetailModal" class="modal">
    <div class="modal-content">
      <h2>Chi tiáº¿t Ä‘á» thi <button class="close" id="closeModal">&times;</button></h2>
      <div id="examDetailContent"></div>
      <div class="modal-actions">
        <button id="saveAnswers" class="btn btn-primary">LÆ°u Ä‘Ã¡p Ã¡n Ä‘Ãºng</button>
        <button id="sendReport" class="btn btn-secondary">Gá»­i báº£ng Ä‘iá»ƒm vá» Mail</button>
        <button id="deleteExam" class="btn btn-danger">XÃ³a Ä‘á» nÃ y</button>
      </div>
    </div>
  </div>

  <script src="main.js"></script>
</body>
</html>
