<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Há»‡ Thá»‘ng Kiá»ƒm Tra</title>
  
  <!-- Link file CSS -->
  <link rel="stylesheet" href="style.css">
  
  <!-- MathJax -->
  <script>
    MathJax = {
      tex: { inlineMath: [['$', '$']], displayMath: [['$$', '$$']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</head>
<body>

  <!-- NÃºt Ä‘á»•i theme -->
  <button class="theme-toggle" id="themeToggle">
    <svg class="theme-toggle-icon" id="themeIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="5"></circle>
      <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path>
    </svg>
    <span class="theme-toggle-text" id="themeText">Light</span>
  </button>

  <!-- === TRANG LOGIN (GIAO DIá»†N CHÃNH) === -->
  <section id="loginPage">
    <!-- Cá»˜T 1: FORM ÄÄ‚NG NHáº¬P -->
    <div class="login-left">
      <div class="login-wrapper">
        <div class="logo">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 11 12 14 22 4"></polyline>
            <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
          </svg>
        </div>
        <h1>Há»‡ Thá»‘ng Kiá»ƒm Tra</h1>
        <p class="subtitle">Nháº­p máº­t kháº©u Ä‘á»ƒ tiáº¿p tá»¥c</p>

        <!-- Form Login -->
        <form id="loginForm">
          <div class="input-group">
            <input id="passwordInput" type="password" placeholder="Máº­t kháº©u..." autocomplete="current-password" required/>
            <button type="button" id="togglePassword" class="toggle-password">
              <svg id="eyeIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                <circle cx="12" cy="12" r="3"/>
              </svg>
            </button>
          </div>
          <button id="loginBtn" class="btn btn-primary" type="submit">ÄÄƒng nháº­p</button>
          <div id="loginError" class="error-message"></div>
        </form>

        <div class="info-text">
          <p>ğŸ‘¨â€ğŸ« <strong>GiÃ¡o viÃªn:</strong> Táº¥t nhiÃªn biáº¿t máº­t kháº©u rá»“i</p>
          <p>ğŸ“ <strong>Há»c sinh:</strong> Kiáº¿m máº­t kháº©u rá»“i vÃ o lÃ m láº¹ lÃªn</p>
        </div>
      </div>
    </div>

    <!-- Cá»˜T 2: VIDEO & CÃ”NG Cá»¤ -->
    <div class="login-right">
      <div class="content-wrapper">
        <h2>GÃ³c Há»c Táº­p & Giáº£i TrÃ­</h2>
        
        <!-- Video Youtube -->
        <div class="video-container">
          <iframe 
            src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
            title="YouTube video player" 
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen>
          </iframe>
        </div>

        <h3>CÃ´ng Cá»¥ Há»— Trá»£</h3>
        <div class="tools-grid">
          <a href="https://google.com" target="_blank" class="tool-btn">
            <span class="icon">ğŸ”</span> Google
          </a>
          <a href="https://youtube.com" target="_blank" class="tool-btn">
            <span class="icon">â–¶ï¸</span> YouTube
          </a>
          <a href="https://chatgpt.com" target="_blank" class="tool-btn">
            <span class="icon">ğŸ¤–</span> ChatGPT
          </a>
          <a href="https://zoom.us" target="_blank" class="tool-btn">
            <span class="icon">ğŸ“¹</span> Zoom
          </a>
          <a href="https://teams.microsoft.com" target="_blank" class="tool-btn">
            <span class="icon">ğŸ‘¥</span> Teams
          </a>
          <a href="https://www.calculator.net/" target="_blank" class="tool-btn">
            <span class="icon">ğŸ§®</span> MÃ¡y tÃ­nh
          </a>
        </div>
      </div>

      <!-- Footer (Náº±m trong cá»™t pháº£i, dÆ°á»›i cÃ¹ng) -->
      <footer class="footer">
        <p>NMT â€“ DÃ¹ng AI code ra web nÃ y Ä‘Ã³</p>
        <button id="backToHomeBtn" onclick="location.reload()">Wanna Help</button>
      </footer>
    </div>
  </section>

  <!-- === CÃC TRANG áº¨N (GIá»® NGUYÃŠN Äá»‚ JS CÅ¨ CHáº Y ÄÆ¯á»¢C) === -->
  <div id="teacherPage" class="container functional-page" style="display: none;">
    <div class="header"><h2>Trang GiÃ¡o ViÃªn</h2><button id="logoutTeacher" class="btn btn-danger">ÄÄƒng xuáº¥t</button></div>
    <div class="dashboard-grid">
      <div class="card">
        <h3>ğŸ“¤ Upload Äá» Thi</h3>
        <form id="uploadForm">
          <div class="form-group"><label>File:</label><input type="file" id="examFile" accept=".docx,.pdf"></div>
          <div class="form-row">
            <div class="form-group"><label>PhÃºt:</label><input type="number" id="timeMinutes" value="45"></div>
            <div class="form-group"><label>Trá»™n:</label><input type="number" id="variantCount" value="1"></div>
          </div>
          <div class="form-group"><label>Pass:</label><input type="text" id="examPassword"></div>
          <div class="form-group"><input type="checkbox" id="useAI"><label for="useAI">DÃ¹ng AI</label></div>
          <button type="submit" class="btn btn-primary">Upload</button>
          <div id="uploadMessage" class="message"></div>
        </form>
        <div id="examList" class="exams-list"></div>
      </div>
      <div class="card">
        <h3>ğŸ“Š BÃ i Ná»™p</h3>
        <button class="btn btn-secondary" onclick="loadSubmissions()">LÃ m má»›i</button>
        <div id="submissionsList" class="submissions-list"></div>
      </div>
    </div>
  </div>

  <div id="studentInfoPage" class="container functional-page" style="display: none;">
    <div class="student-form-container">
      <div class="card login-box" style="background:white; color:#333; max-width:500px;">
        <h2 style="color:var(--primary); text-align:center;">ThÃ´ng Tin ThÃ­ Sinh</h2>
        <form id="studentInfoForm">
          <div class="form-group"><label>TÃªn:</label><input type="text" id="studentName" required></div>
          <div class="form-group"><label>Lá»›p:</label><input type="text" id="studentClass" readonly></div>
          <div class="form-group"><label>NgÃ y sinh:</label><input type="text" id="studentDOB" required placeholder="dd/mm/yyyy"></div>
          <div class="form-group" id="examPasswordGroup" style="display:none;"><label>Máº­t kháº©u Ä‘á»:</label><input type="password" id="studentExamPassword"></div>
          <button type="submit" class="btn btn-primary" style="width:100%">VÃ o Thi</button>
          <div id="studentInfoError" class="error-message"></div>
        </form>
      </div>
    </div>
  </div>

  <div id="examPage" class="container functional-page" style="display: none;">
    <div class="exam-header">
      <div class="exam-info"><h2 id="examTitle">Äá» thi</h2><p id="studentInfo"></p></div>
      <div class="timer-container"><div id="timer" class="timer">00:00</div><div id="warningMessage"></div></div>
      <button id="logoutStudent" class="btn btn-danger">ThoÃ¡t</button>
    </div>
    <div class="exam-content">
      <div id="questionsContainer"></div>
      <button id="submitBtn" class="btn btn-primary btn-submit">Ná»˜P BÃ€I</button>
    </div>
  </div>

  <div id="resultPage" class="container functional-page" style="display: none;">
    <div class="result-container">
      <div class="result-icon">ğŸ†</div><h2 id="resultMessage">Xong!</h2>
      <div id="scoreDisplay" class="score-display">--</div>
      <button onclick="location.reload()" class="btn btn-primary">Vá» trang chá»§</button>
    </div>
  </div>

  <div id="examDetailModal" class="modal">
    <div class="modal-content">
      <h2>Chi tiáº¿t <button class="close" id="closeModal">&times;</button></h2>
      <div id="examDetailContent"></div>
      <div class="modal-actions">
        <button id="saveAnswers" class="btn btn-primary">LÆ°u Ä.Ãn</button>
        <button id="sendReport" class="btn btn-secondary">Gá»­i Mail</button>
        <button id="deleteExam" class="btn btn-danger">XÃ³a</button>
      </div>
    </div>
  </div>

  <!-- Script JS (Äáº·t cuá»‘i cÃ¹ng Ä‘á»ƒ Ä‘áº£m báº£o HTML load xong má»›i cháº¡y) -->
  <script src="main.js"></script>
</body>
</html>
